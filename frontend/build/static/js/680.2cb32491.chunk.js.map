{"version":3,"file":"static/js/680.2cb32491.chunk.js","mappings":"mSAkBA,MAmOA,EAnOcA,KACZ,MAAMC,GAAcC,EAAAA,EAAAA,OACbC,EAAYC,IAAiBC,EAAAA,EAAAA,UAAS,KAErCC,KAAMC,EAAQ,GAAE,UAAEC,IAAcC,EAAAA,EAAAA,GAAS,CAC/CC,SAAU,CAAC,SACXC,QAASA,IAAMC,EAAAA,EAAIC,IAAI,UAAUC,MAAKC,GAAOA,EAAIT,SAG7CU,GAAaC,EAAAA,EAAAA,GAAY,CAC7BC,WAAaC,GAAWP,EAAAA,EAAIQ,OAAO,UAADC,OAAWF,IAC7CG,UAAWA,KACTrB,EAAYsB,kBAAkB,CAAC,SAAS,IAItCC,EAAgBjB,EAAMkB,QAAOC,GACjCA,EAAKC,KAAKC,cAAcC,SAAS1B,EAAWyB,gBAC5CF,EAAKI,MAAMF,cAAcC,SAAS1B,EAAWyB,iBAe/C,OAAIpB,GAEAuB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,wCAAuCC,UACpDF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oEAMnBE,EAAAA,EAAAA,MAAA,OAAKF,UAAU,YAAWC,SAAA,EACxBC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,6CAA4CC,SAAA,EACzDC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,mCAAkCC,SAAC,WACjDF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,6BAA4BC,SAAC,6CAI5CF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,eAAcC,UAC3BC,EAAAA,EAAAA,MAACC,EAAAA,GAAI,CACHC,GAAG,aACHJ,UAAU,yNAAwNC,SAAA,EAElOF,EAAAA,EAAAA,KAACM,EAAAA,EAAI,CAACL,UAAU,iBAAiB,oBAOvCD,EAAAA,EAAAA,KAAA,OAAKC,UAAU,WAAUC,UACvBC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,WAAUC,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,uEAAsEC,UACnFF,EAAAA,EAAAA,KAACO,EAAAA,EAAM,CAACN,UAAU,6BAEpBD,EAAAA,EAAAA,KAAA,SACEQ,KAAK,OACLP,UAAU,8MACVQ,YAAY,kBACZC,MAAOtC,EACPuC,SAAWC,GAAMvC,EAAcuC,EAAEC,OAAOH,eAM9CV,EAAAA,EAAAA,KAAA,OAAKC,UAAU,uDAAsDC,SAClET,EAAcqB,KAAKnB,IAAI,IAAAoB,EAAA,OACtBf,EAAAA,EAAAA,KAAA,OAAmBC,UAAU,6CAA4CC,UACvEC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,MAAKC,SAAA,EAClBC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,yCAAwCC,SAAA,EACrDC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,oBAAmBC,SAAA,EAChCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeC,UAC5BF,EAAAA,EAAAA,KAACgB,EAAAA,EAAQ,CAACf,UAAU,6BAEtBE,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,6CAA4CC,SACvDP,EAAKI,SAERC,EAAAA,EAAAA,KAAA,KAAGC,UAAU,wBAAuBC,SAAEP,EAAKC,cAG/CI,EAAAA,EAAAA,KAAA,QAAMC,UAAS,2EAAAX,OACbK,EAAKsB,UAAY,8BAAgC,2BAChDf,SACAP,EAAKsB,UAAY,SAAW,iBAIjCd,EAAAA,EAAAA,MAAA,OAAKF,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,+BAA8BC,SAAA,EAC3CF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,gBAAeC,SAAC,aAChCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,cAAaC,UAAa,QAAXa,EAAApB,EAAKuB,cAAM,IAAAH,OAAA,EAAXA,EAAaI,SAAU,QAExDhB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,+BAA8BC,SAAA,EAC3CF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,gBAAeC,SAAC,cAChCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,cAAaC,UAC1BkB,EAAAA,EAAAA,IAAO,IAAIC,KAAK1B,EAAK2B,YAAa,qBAGvCnB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,+BAA8BC,SAAA,EAC3CF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,gBAAeC,SAAC,kBAChCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,cAAaC,SAAC,YAIjCP,EAAK4B,cACJvB,EAAAA,EAAAA,KAAA,KAAGC,UAAU,0CAAyCC,SACnDP,EAAK4B,eAIVpB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,kEAAiEC,SAAA,EAC9EC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,8BAA6BC,SAAA,EAC1CF,EAAAA,EAAAA,KAAA,UACEwB,QAASA,IApGJpC,KACrB,MAAMqC,EAAS,gBAAAnC,OAAmBoC,OAAOC,SAASC,OAAM,gBAAAtC,OAAeF,EAAM,yDAC7EyC,UAAUC,UAAUC,UAAUN,EAAU,EAkGTO,CAAcrC,EAAKsC,IAClChC,UAAU,+MACVF,MAAM,kBAAiBG,UAEvBF,EAAAA,EAAAA,KAACkC,EAAAA,EAAI,CAACjC,UAAU,eAGlBD,EAAAA,EAAAA,KAACI,EAAAA,GAAI,CACHC,GAAE,UAAAf,OAAYK,EAAKsC,GAAE,cACrBhC,UAAU,+MACVF,MAAM,iBAAgBG,UAEtBF,EAAAA,EAAAA,KAACmC,EAAAA,EAAS,CAAClC,UAAU,kBAIzBE,EAAAA,EAAAA,MAAA,OAAKF,UAAU,8BAA6BC,SAAA,EAC1CF,EAAAA,EAAAA,KAACI,EAAAA,GAAI,CACHC,GAAE,UAAAf,OAAYK,EAAKsC,GAAE,YACrBpB,OAAO,SACPuB,IAAI,sBACJnC,UAAU,+MAA8MC,UAExNF,EAAAA,EAAAA,KAACqC,EAAAA,EAAY,CAACpC,UAAU,eAG1BD,EAAAA,EAAAA,KAACI,EAAAA,GAAI,CACHC,GAAE,UAAAf,OAAYK,EAAKsC,GAAE,SACrBhC,UAAU,+MAA8MC,UAExNF,EAAAA,EAAAA,KAACsC,EAAAA,EAAI,CAACrC,UAAU,eAGlBD,EAAAA,EAAAA,KAAA,UACEwB,QAASA,IA5INe,OAAOnD,EAAQoD,KAC9Bd,OAAOe,QAAQ,oCAADnD,OAAqCkD,EAAQ,QAC7DvD,EAAWyD,OAAOtD,EACpB,EAyI+BuD,CAAahD,EAAKsC,GAAItC,EAAKC,MAC1CK,UAAU,4MAA2MC,UAErNF,EAAAA,EAAAA,KAAC4C,EAAAA,EAAM,CAAC3C,UAAU,wBApFlBN,EAAKsC,GAyFT,MAIgB,IAAzBxC,EAAc0B,SACbhB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,oBAAmBC,SAAA,EAChCF,EAAAA,EAAAA,KAACgB,EAAAA,EAAQ,CAACf,UAAU,qCACpBD,EAAAA,EAAAA,KAAA,MAAIC,UAAU,yCAAwCC,SAAC,oBACvDF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,6BAA4BC,SACtC9B,EACG,uCACA,8CAGJA,IACA4B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,OAAMC,UACnBC,EAAAA,EAAAA,MAACC,EAAAA,GAAI,CACHC,GAAG,aACHJ,UAAU,yNAAwNC,SAAA,EAElOF,EAAAA,EAAAA,KAACM,EAAAA,EAAI,CAACL,UAAU,iBAAiB,uBAS3CE,EAAAA,EAAAA,MAAA,OAAKF,UAAU,iCAAgCC,SAAA,EAC7CF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,yCAAwCC,SAAC,qBACvDC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,wCAAuCC,SAAA,EACpDC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mCAAkCC,SAAE1B,EAAM2C,UACzDnB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,wBAAuBC,SAAC,oBAEzCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oCAAmCC,SAC/C1B,EAAMkB,QAAOmD,GAAKA,EAAE5B,YAAWE,UAElCnB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,wBAAuBC,SAAC,qBAEzCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qCAAoCC,SAAC,OACpDF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,wBAAuBC,SAAC,0BAEzCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qCAAoCC,SAChD1B,EAAMsE,QAAO,CAACC,EAAKpD,KAAI,IAAAqD,EAAA,OAAKD,IAAkB,QAAXC,EAAArD,EAAKuB,cAAM,IAAA8B,OAAA,EAAXA,EAAa7B,SAAU,EAAE,GAAE,MAEjEnB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,wBAAuBC,SAAC,4BAIzC,C","sources":["pages/Forms.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { Link } from 'react-router-dom';\nimport { \n  Plus, \n  Search, \n  FileText, \n  Edit, \n  Trash2, \n  Eye, \n  Copy,\n  BarChart3,\n  MoreHorizontal,\n  ExternalLink\n} from 'lucide-react';\nimport api from '../services/api';\nimport { format } from 'date-fns';\n\nconst Forms = () => {\n  const queryClient = useQueryClient();\n  const [searchTerm, setSearchTerm] = useState('');\n  \n  const { data: forms = [], isLoading } = useQuery({\n    queryKey: ['forms'],\n    queryFn: () => api.get('/forms').then(res => res.data)\n  });\n\n  const deleteForm = useMutation({\n    mutationFn: (formId) => api.delete(`/forms/${formId}`),\n    onSuccess: () => {\n      queryClient.invalidateQueries(['forms']);\n    },\n  });\n\n  const filteredForms = forms.filter(form =>\n    form.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    form.title.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const handleDelete = async (formId, formName) => {\n    if (window.confirm(`Are you sure you want to delete \"${formName}\"?`)) {\n      deleteForm.mutate(formId);\n    }\n  };\n\n  const copyEmbedCode = (formId) => {\n    const embedCode = `<iframe src=\"${window.location.origin}/embed/form/${formId}\" width=\"100%\" height=\"400\" frameborder=\"0\"></iframe>`;\n    navigator.clipboard.writeText(embedCode);\n    // You could add a toast notification here\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"sm:flex sm:items-center sm:justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Forms</h1>\n          <p className=\"mt-1 text-sm text-gray-600\">\n            Create and manage lead capture forms\n          </p>\n        </div>\n        <div className=\"mt-4 sm:mt-0\">\n          <Link\n            to=\"/forms/new\"\n            className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n          >\n            <Plus className=\"h-4 w-4 mr-2\" />\n            New Form\n          </Link>\n        </div>\n      </div>\n\n      {/* Search */}\n      <div className=\"max-w-md\">\n        <div className=\"relative\">\n          <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n            <Search className=\"h-5 w-5 text-gray-400\" />\n          </div>\n          <input\n            type=\"text\"\n            className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500\"\n            placeholder=\"Search forms...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n          />\n        </div>\n      </div>\n\n      {/* Forms Grid */}\n      <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n        {filteredForms.map((form) => (\n          <div key={form.id} className=\"bg-white overflow-hidden shadow rounded-lg\">\n            <div className=\"p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <div className=\"flex items-center\">\n                  <div className=\"flex-shrink-0\">\n                    <FileText className=\"h-8 w-8 text-blue-600\" />\n                  </div>\n                  <div className=\"ml-3\">\n                    <h3 className=\"text-lg font-medium text-gray-900 truncate\">\n                      {form.title}\n                    </h3>\n                    <p className=\"text-sm text-gray-500\">{form.name}</p>\n                  </div>\n                </div>\n                <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                  form.is_active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\n                }`}>\n                  {form.is_active ? 'Active' : 'Inactive'}\n                </span>\n              </div>\n\n              <div className=\"space-y-2 mb-4\">\n                <div className=\"flex justify-between text-sm\">\n                  <span className=\"text-gray-500\">Fields:</span>\n                  <span className=\"font-medium\">{form.fields?.length || 0}</span>\n                </div>\n                <div className=\"flex justify-between text-sm\">\n                  <span className=\"text-gray-500\">Created:</span>\n                  <span className=\"font-medium\">\n                    {format(new Date(form.created_at), 'MMM d, yyyy')}\n                  </span>\n                </div>\n                <div className=\"flex justify-between text-sm\">\n                  <span className=\"text-gray-500\">Submissions:</span>\n                  <span className=\"font-medium\">0</span>\n                </div>\n              </div>\n\n              {form.description && (\n                <p className=\"text-sm text-gray-600 mb-4 line-clamp-2\">\n                  {form.description}\n                </p>\n              )}\n\n              <div className=\"flex items-center justify-between pt-4 border-t border-gray-200\">\n                <div className=\"flex items-center space-x-2\">\n                  <button\n                    onClick={() => copyEmbedCode(form.id)}\n                    className=\"inline-flex items-center p-2 border border-gray-300 rounded-md text-sm leading-4 font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    title=\"Copy embed code\"\n                  >\n                    <Copy className=\"h-4 w-4\" />\n                  </button>\n                  \n                  <Link\n                    to={`/forms/${form.id}/analytics`}\n                    className=\"inline-flex items-center p-2 border border-gray-300 rounded-md text-sm leading-4 font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    title=\"View analytics\"\n                  >\n                    <BarChart3 className=\"h-4 w-4\" />\n                  </Link>\n                </div>\n\n                <div className=\"flex items-center space-x-2\">\n                  <Link\n                    to={`/forms/${form.id}/preview`}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"inline-flex items-center p-2 border border-gray-300 rounded-md text-sm leading-4 font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  >\n                    <ExternalLink className=\"h-4 w-4\" />\n                  </Link>\n\n                  <Link\n                    to={`/forms/${form.id}/edit`}\n                    className=\"inline-flex items-center p-2 border border-gray-300 rounded-md text-sm leading-4 font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  >\n                    <Edit className=\"h-4 w-4\" />\n                  </Link>\n\n                  <button\n                    onClick={() => handleDelete(form.id, form.name)}\n                    className=\"inline-flex items-center p-2 border border-gray-300 rounded-md text-sm leading-4 font-medium text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                  >\n                    <Trash2 className=\"h-4 w-4\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {filteredForms.length === 0 && (\n        <div className=\"text-center py-12\">\n          <FileText className=\"mx-auto h-12 w-12 text-gray-400\" />\n          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No forms found</h3>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            {searchTerm \n              ? 'No forms match your search criteria.'\n              : 'Get started by creating your first form.'\n            }\n          </p>\n          {!searchTerm && (\n            <div className=\"mt-6\">\n              <Link\n                to=\"/forms/new\"\n                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                <Plus className=\"h-4 w-4 mr-2\" />\n                Create Form\n              </Link>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Quick Stats */}\n      <div className=\"bg-white shadow rounded-lg p-6\">\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Form Statistics</h3>\n        <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-4\">\n          <div className=\"text-center\">\n            <div className=\"text-2xl font-bold text-blue-600\">{forms.length}</div>\n            <div className=\"text-sm text-gray-500\">Total Forms</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-2xl font-bold text-green-600\">\n              {forms.filter(f => f.is_active).length}\n            </div>\n            <div className=\"text-sm text-gray-500\">Active Forms</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-2xl font-bold text-purple-600\">0</div>\n            <div className=\"text-sm text-gray-500\">Total Submissions</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-2xl font-bold text-orange-600\">\n              {forms.reduce((acc, form) => acc + (form.fields?.length || 0), 0)}\n            </div>\n            <div className=\"text-sm text-gray-500\">Total Fields</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Forms;"],"names":["Forms","queryClient","useQueryClient","searchTerm","setSearchTerm","useState","data","forms","isLoading","useQuery","queryKey","queryFn","api","get","then","res","deleteForm","useMutation","mutationFn","formId","delete","concat","onSuccess","invalidateQueries","filteredForms","filter","form","name","toLowerCase","includes","title","_jsx","className","children","_jsxs","Link","to","Plus","Search","type","placeholder","value","onChange","e","target","map","_form$fields","FileText","is_active","fields","length","format","Date","created_at","description","onClick","embedCode","window","location","origin","navigator","clipboard","writeText","copyEmbedCode","id","Copy","BarChart3","rel","ExternalLink","Edit","async","formName","confirm","mutate","handleDelete","Trash2","f","reduce","acc","_form$fields2"],"sourceRoot":""}