{"version":3,"file":"static/js/313.c3a40a9d.chunk.js","mappings":"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","sources":["pages/cms/Pages.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { Link } from 'react-router-dom';\nimport { Plus, Search, Globe, Edit, Trash2, Eye, Home, MoreHorizontal, Layers, Palette } from 'lucide-react';\nimport { useTenant } from '../../contexts/TenantContext';\nimport api from '../../services/api';\nimport { format } from 'date-fns';\n\nconst Pages = () => {\n  const { translateTerm, getColorScheme, getModuleInfo } = useTenant();\n  const queryClient = useQueryClient();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showPageBuilder, setShowPageBuilder] = useState(false);\n  const [selectedPage, setSelectedPage] = useState(null);\n  \n  const colorScheme = getColorScheme();\n  const moduleInfo = getModuleInfo();\n  \n  const { data: pages = [], isLoading } = useQuery({\n    queryKey: ['cms-pages'],\n    queryFn: () => api.get('/cms/pages').then(res => res.data)\n  });\n\n  const deletePage = useMutation({\n    mutationFn: (pageId) => api.delete(`/cms/pages/${pageId}`),\n    onSuccess: () => {\n      queryClient.invalidateQueries(['cms-pages']);\n    },\n  });\n\n  const filteredPages = pages.filter(page =>\n    page.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    page.slug.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const handleDelete = async (pageId, pageTitle) => {\n    if (window.confirm(`Are you sure you want to delete \"${pageTitle}\"?`)) {\n      deletePage.mutate(pageId);\n    }\n  };\n\n  const openPageBuilder = (page) => {\n    setSelectedPage(page);\n    setShowPageBuilder(true);\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2\" style={{ borderColor: colorScheme.primary }}></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"sm:flex sm:items-center sm:justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold\" style={{ color: colorScheme.text }}>\n            {translateTerm('Website Pages')}\n          </h1>\n          <p className=\"mt-1 text-sm text-gray-600\">\n            {translateTerm('Manage your website content and pages for')} {moduleInfo.name}\n          </p>\n        </div>\n        <div className=\"mt-4 sm:mt-0 sm:ml-16 sm:flex-none\">\n          <Link\n            to=\"/cms/pages/new\"\n            className=\"inline-flex items-center px-4 py-2 text-sm font-medium text-white rounded-md shadow-sm hover:opacity-90\"\n            style={{ backgroundColor: colorScheme.primary }}\n          >\n            <Plus className=\"h-4 w-4 mr-2\" />\n            {translateTerm('New Page')}\n          </Link>\n        </div>\n      </div>\n\n      {/* Search and Filters */}\n      <div className=\"flex items-center space-x-4\">\n        <div className=\"flex-1 max-w-lg\">\n          <div className=\"relative\">\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n              <Search className=\"h-5 w-5 text-gray-400\" />\n            </div>\n            <input\n              type=\"text\"\n              className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:border-blue-500\"\n              style={{ focusRingColor: colorScheme.primary, focusBorderColor: colorScheme.primary }}\n              placeholder={translateTerm(\"Search pages...\")}\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Pages Grid */}\n      <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n        {filteredPages.map((page) => (\n          <div key={page.id} className=\"relative group bg-white rounded-lg border border-gray-300 shadow-sm hover:shadow-md transition-shadow\">\n            {/* Page Preview */}\n            <div className=\"aspect-w-16 aspect-h-10 bg-gray-100 rounded-t-lg overflow-hidden\">\n              <div className=\"w-full h-40 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center\">\n                <Globe className=\"h-12 w-12 text-gray-400\" />\n              </div>\n              {page.is_homepage && (\n                <div className=\"absolute top-2 left-2\">\n                  <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                    <Home className=\"h-3 w-3 mr-1\" />\n                    {translateTerm('Homepage')}\n                  </span>\n                </div>\n              )}\n              {page.status && (\n                <div className=\"absolute top-2 right-2\">\n                  <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${\n                    page.status === 'published' \n                      ? 'bg-green-100 text-green-800' \n                      : 'bg-yellow-100 text-yellow-800'\n                  }`}>\n                    {translateTerm(page.status)}\n                  </span>\n                </div>\n              )}\n            </div>\n\n            {/* Page Info */}\n            <div className=\"p-4\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"min-w-0 flex-1\">\n                  <h3 className=\"text-sm font-medium text-gray-900 truncate\">\n                    {page.title}\n                  </h3>\n                  <p className=\"text-sm text-gray-500 truncate\">\n                    /{page.slug}\n                  </p>\n                  {page.updated_at && (\n                    <p className=\"text-xs text-gray-400 mt-1\">\n                      {translateTerm('Updated')} {format(new Date(page.updated_at), 'MMM d, yyyy')}\n                    </p>\n                  )}\n                </div>\n                <div className=\"ml-2 flex-shrink-0\">\n                  <div className=\"relative inline-block text-left\">\n                    <button className=\"p-1 rounded-full hover:bg-gray-100\">\n                      <MoreHorizontal className=\"h-4 w-4 text-gray-400\" />\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              {/* Action Buttons */}\n              <div className=\"mt-4 flex items-center justify-between\">\n                <div className=\"flex items-center space-x-2\">\n                  {/* Page Builder Button - Only for Coworking module */}\n                  {moduleInfo.industry === 'coworking' && (\n                    <button\n                      onClick={() => openPageBuilder(page)}\n                      className=\"inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md text-white hover:opacity-90\"\n                      style={{ backgroundColor: colorScheme.primary }}\n                    >\n                      <Layers className=\"h-3 w-3 mr-1\" />\n                      {translateTerm('Page Builder')}\n                    </button>\n                  )}\n                  \n                  <Link\n                    to={`/cms/pages/${page.id}/edit`}\n                    className=\"inline-flex items-center px-3 py-1.5 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50\"\n                  >\n                    <Edit className=\"h-3 w-3 mr-1\" />\n                    {translateTerm('Edit')}\n                  </Link>\n                </div>\n\n                <div className=\"flex items-center space-x-1\">\n                  <button className=\"p-1.5 text-gray-400 hover:text-gray-600 rounded\">\n                    <Eye className=\"h-4 w-4\" />\n                  </button>\n                  <button\n                    onClick={() => handleDelete(page.id, page.title)}\n                    className=\"p-1.5 text-gray-400 hover:text-red-600 rounded\"\n                  >\n                    <Trash2 className=\"h-4 w-4\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {filteredPages.length === 0 && (\n        <div className=\"text-center py-12\">\n          <Globe className=\"mx-auto h-12 w-12 text-gray-400\" />\n          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\n            {searchTerm ? translateTerm('No pages found') : translateTerm('No pages yet')}\n          </h3>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            {searchTerm \n              ? translateTerm('Try adjusting your search terms')\n              : translateTerm('Get started by creating your first page')\n            }\n          </p>\n          {!searchTerm && (\n            <div className=\"mt-6\">\n              <Link\n                to=\"/cms/pages/new\"\n                className=\"inline-flex items-center px-4 py-2 text-sm font-medium text-white rounded-md shadow-sm hover:opacity-90\"\n                style={{ backgroundColor: colorScheme.primary }}\n              >\n                <Plus className=\"h-4 w-4 mr-2\" />\n                {translateTerm('Create Page')}\n              </Link>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Page Builder Modal */}\n      {showPageBuilder && selectedPage && (\n        <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl max-w-7xl w-full h-full mx-4 my-4 flex flex-col\">\n            <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\n              <div>\n                <h2 className=\"text-lg font-medium\" style={{ color: colorScheme.text }}>\n                  {translateTerm('Page Builder')} - {selectedPage.title}\n                </h2>\n                <p className=\"text-sm text-gray-600\">\n                  {translateTerm('Drag and drop components to build your page')}\n                </p>\n              </div>\n              <button\n                onClick={() => setShowPageBuilder(false)}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <span className=\"sr-only\">{translateTerm('Close')}</span>\n                <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            \n            <div className=\"flex-1 overflow-hidden\">\n              {/* Lazy load the page builder component */}\n              <React.Suspense fallback={\n                <div className=\"flex items-center justify-center h-full\">\n                  <div className=\"animate-spin rounded-full h-8 w-8 border-b-2\" style={{ borderColor: colorScheme.primary }}></div>\n                </div>\n              }>\n                <CoworkingPageBuilder pageId={selectedPage.id} />\n              </React.Suspense>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Lazy load the page builder\nconst CoworkingPageBuilder = React.lazy(() => import('../../components/cms/CoworkingPageBuilder'));\n\nexport default Pages;"],"names":["CoworkingPageBuilder","React","Pages","translateTerm","getColorScheme","getModuleInfo","useTenant","queryClient","useQueryClient","searchTerm","setSearchTerm","useState","showPageBuilder","setShowPageBuilder","selectedPage","setSelectedPage","colorScheme","moduleInfo","data","pages","isLoading","useQuery","queryKey","queryFn","api","get","then","res","deletePage","useMutation","mutationFn","pageId","delete","concat","onSuccess","invalidateQueries","filteredPages","filter","page","title","toLowerCase","includes","slug","_jsx","className","children","style","borderColor","primary","_jsxs","color","text","name","Link","to","backgroundColor","Plus","Search","type","focusRingColor","focusBorderColor","placeholder","value","onChange","e","target","map","Globe","is_homepage","Home","status","updated_at","format","Date","MoreHorizontal","industry","onClick","openPageBuilder","Layers","id","Edit","Eye","async","pageTitle","window","confirm","mutate","handleDelete","Trash2","length","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","fallback"],"sourceRoot":""}