{"version":3,"file":"static/js/344.81fa8bd2.chunk.js","mappings":"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","sources":["pages/Leads.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { Link } from 'react-router-dom';\nimport { \n  UserPlus, \n  Search, \n  Filter, \n  MoreHorizontal, \n  Mail, \n  Phone, \n  Building,\n  Calendar,\n  CheckCircle,\n  Clock,\n  AlertCircle\n} from 'lucide-react';\nimport api from '../services/api';\nimport { format } from 'date-fns';\n\nconst Leads = () => {\n  const queryClient = useQueryClient();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState('');\n  const [sortBy, setSortBy] = useState('created_at');\n  \n  const { data: leads = [], isLoading } = useQuery({\n    queryKey: ['leads'],\n    queryFn: () => api.get('/leads').then(res => res.data)\n  });\n\n  const updateLead = useMutation({\n    mutationFn: ({ leadId, data }) => api.put(`/leads/${leadId}`, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries(['leads']);\n    },\n  });\n\n  const filteredLeads = leads\n    .filter(lead => {\n      const matchesSearch = \n        `${lead.first_name} ${lead.last_name}`.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        lead.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        (lead.company && lead.company.toLowerCase().includes(searchTerm.toLowerCase()));\n      \n      const matchesStatus = !statusFilter || lead.status === statusFilter;\n      \n      return matchesSearch && matchesStatus;\n    })\n    .sort((a, b) => {\n      if (sortBy === 'created_at') {\n        return new Date(b.created_at) - new Date(a.created_at);\n      }\n      return a.first_name.localeCompare(b.first_name);\n    });\n\n  const handleStatusChange = (leadId, newStatus) => {\n    updateLead.mutate({ leadId, data: { status: newStatus } });\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'converted':\n        return <CheckCircle className=\"h-4 w-4 text-green-500\" />;\n      case 'tour_completed':\n        return <CheckCircle className=\"h-4 w-4 text-blue-500\" />;\n      case 'tour_scheduled':\n        return <Clock className=\"h-4 w-4 text-yellow-500\" />;\n      default:\n        return <AlertCircle className=\"h-4 w-4 text-gray-500\" />;\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'converted':\n        return 'bg-green-100 text-green-800';\n      case 'tour_completed':\n        return 'bg-blue-100 text-blue-800';\n      case 'tour_scheduled':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'closed':\n        return 'bg-red-100 text-red-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"sm:flex sm:items-center sm:justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Leads</h1>\n          <p className=\"mt-1 text-sm text-gray-600\">\n            Manage and nurture your potential customers\n          </p>\n        </div>\n      </div>\n\n      {/* Filters and Search */}\n      <div className=\"bg-white shadow rounded-lg p-4\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <div className=\"relative\">\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n              <Search className=\"h-5 w-5 text-gray-400\" />\n            </div>\n            <input\n              type=\"text\"\n              className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500\"\n              placeholder=\"Search leads...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n          </div>\n\n          <select\n            value={statusFilter}\n            onChange={(e) => setStatusFilter(e.target.value)}\n            className=\"block w-full border border-gray-300 rounded-md px-3 py-2 bg-white focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n          >\n            <option value=\"\">All Statuses</option>\n            <option value=\"new_inquiry\">New Inquiry</option>\n            <option value=\"tour_scheduled\">Tour Scheduled</option>\n            <option value=\"tour_completed\">Tour Completed</option>\n            <option value=\"converted\">Converted</option>\n            <option value=\"closed\">Closed</option>\n          </select>\n\n          <select\n            value={sortBy}\n            onChange={(e) => setSortBy(e.target.value)}\n            className=\"block w-full border border-gray-300 rounded-md px-3 py-2 bg-white focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n          >\n            <option value=\"created_at\">Newest First</option>\n            <option value=\"name\">Name</option>\n          </select>\n\n          <div className=\"text-sm text-gray-500 flex items-center\">\n            {filteredLeads.length} of {leads.length} leads\n          </div>\n        </div>\n      </div>\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 gap-5 sm:grid-cols-4\">\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <UserPlus className=\"h-8 w-8 text-blue-600\" />\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">\n                    Total Leads\n                  </dt>\n                  <dd className=\"text-lg font-medium text-gray-900\">\n                    {leads.length}\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <Clock className=\"h-8 w-8 text-yellow-600\" />\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">\n                    New This Week\n                  </dt>\n                  <dd className=\"text-lg font-medium text-gray-900\">\n                    {leads.filter(lead => {\n                      const weekAgo = new Date();\n                      weekAgo.setDate(weekAgo.getDate() - 7);\n                      return new Date(lead.created_at) > weekAgo;\n                    }).length}\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <Calendar className=\"h-8 w-8 text-purple-600\" />\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">\n                    Tours Scheduled\n                  </dt>\n                  <dd className=\"text-lg font-medium text-gray-900\">\n                    {leads.filter(lead => lead.status === 'tour_scheduled').length}\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <CheckCircle className=\"h-8 w-8 text-green-600\" />\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">\n                    Converted\n                  </dt>\n                  <dd className=\"text-lg font-medium text-gray-900\">\n                    {leads.filter(lead => lead.status === 'converted').length}\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Leads List */}\n      <div className=\"bg-white shadow overflow-hidden sm:rounded-md\">\n        {filteredLeads.length > 0 ? (\n          <ul className=\"divide-y divide-gray-200\">\n            {filteredLeads.map((lead) => (\n              <li key={lead.id}>\n                <Link\n                  to={`/leads/${lead.id}`}\n                  className=\"block hover:bg-gray-50 px-4 py-4\"\n                >\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center space-x-4\">\n                      <div className=\"flex-shrink-0\">\n                        <div className=\"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center\">\n                          <span className=\"text-sm font-medium text-blue-600\">\n                            {lead.first_name.charAt(0)}{lead.last_name.charAt(0)}\n                          </span>\n                        </div>\n                      </div>\n                      <div className=\"min-w-0 flex-1\">\n                        <div className=\"flex items-center space-x-2\">\n                          <p className=\"text-sm font-medium text-gray-900 truncate\">\n                            {lead.first_name} {lead.last_name}\n                          </p>\n                          {getStatusIcon(lead.status)}\n                        </div>\n                        <div className=\"flex items-center mt-1 space-x-4\">\n                          <div className=\"flex items-center text-sm text-gray-500\">\n                            <Mail className=\"h-4 w-4 mr-1\" />\n                            {lead.email}\n                          </div>\n                          {lead.phone && (\n                            <div className=\"flex items-center text-sm text-gray-500\">\n                              <Phone className=\"h-4 w-4 mr-1\" />\n                              {lead.phone}\n                            </div>\n                          )}\n                          {lead.company && (\n                            <div className=\"flex items-center text-sm text-gray-500\">\n                              <Building className=\"h-4 w-4 mr-1\" />\n                              {lead.company}\n                            </div>\n                          )}\n                        </div>\n                        {lead.source && (\n                          <p className=\"mt-1 text-xs text-gray-400\">\n                            Source: {lead.source}\n                          </p>\n                        )}\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-center space-x-4\">\n                      <div className=\"text-right\">\n                        <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(lead.status)}`}>\n                          {lead.status.replace('_', ' ')}\n                        </span>\n                        <p className=\"text-xs text-gray-500 mt-1\">\n                          {format(new Date(lead.created_at), 'MMM d, yyyy')}\n                        </p>\n                      </div>\n\n                      <div className=\"flex items-center space-x-2\">\n                        {lead.status === 'new_inquiry' && (\n                          <button\n                            onClick={(e) => {\n                              e.preventDefault();\n                              e.stopPropagation();\n                              handleStatusChange(lead.id, 'tour_scheduled');\n                            }}\n                            className=\"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded hover:bg-blue-100\"\n                          >\n                            Schedule Tour\n                          </button>\n                        )}\n                        \n                        {lead.status === 'tour_completed' && (\n                          <button\n                            onClick={(e) => {\n                              e.preventDefault();\n                              e.stopPropagation();\n                              handleStatusChange(lead.id, 'converted');\n                            }}\n                            className=\"text-xs bg-green-50 text-green-700 px-2 py-1 rounded hover:bg-green-100\"\n                          >\n                            Convert\n                          </button>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </Link>\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <div className=\"text-center py-12\">\n            <UserPlus className=\"mx-auto h-12 w-12 text-gray-400\" />\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No leads found</h3>\n            <p className=\"mt-1 text-sm text-gray-500\">\n              {searchTerm || statusFilter \n                ? 'No leads match your current filters.'\n                : 'Leads will appear here as they submit forms on your website.'\n              }\n            </p>\n          </div>\n        )}\n      </div>\n\n      {/* Lead Pipeline Overview */}\n      <div className=\"bg-white shadow rounded-lg p-6\">\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Lead Pipeline</h3>\n        <div className=\"space-y-3\">\n          {[\n            { status: 'new_inquiry', label: 'New Inquiries', color: 'bg-gray-500' },\n            { status: 'tour_scheduled', label: 'Tours Scheduled', color: 'bg-yellow-500' },\n            { status: 'tour_completed', label: 'Tours Completed', color: 'bg-blue-500' },\n            { status: 'converted', label: 'Converted', color: 'bg-green-500' },\n          ].map(({ status, label, color }) => {\n            const count = leads.filter(lead => lead.status === status).length;\n            const percentage = leads.length > 0 ? (count / leads.length) * 100 : 0;\n            \n            return (\n              <div key={status} className=\"flex items-center\">\n                <div className=\"flex items-center space-x-3 w-40\">\n                  <div className={`w-3 h-3 rounded-full ${color}`}></div>\n                  <span className=\"text-sm font-medium text-gray-900\">{label}</span>\n                </div>\n                <div className=\"flex-1 mx-4\">\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                    <div \n                      className={`h-2 rounded-full ${color}`}\n                      style={{ width: `${percentage}%` }}\n                    ></div>\n                  </div>\n                </div>\n                <div className=\"text-sm text-gray-600 w-16 text-right\">\n                  {count} ({Math.round(percentage)}%)\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Leads;"],"names":["Leads","queryClient","useQueryClient","searchTerm","setSearchTerm","useState","statusFilter","setStatusFilter","sortBy","setSortBy","data","leads","isLoading","useQuery","queryKey","queryFn","api","get","then","res","updateLead","useMutation","mutationFn","_ref","leadId","put","concat","onSuccess","invalidateQueries","filteredLeads","filter","lead","matchesSearch","first_name","last_name","toLowerCase","includes","email","company","matchesStatus","status","sort","a","b","Date","created_at","localeCompare","handleStatusChange","newStatus","mutate","getStatusIcon","_jsx","CheckCircle","className","Clock","AlertCircle","getStatusColor","children","_jsxs","Search","type","placeholder","value","onChange","e","target","length","UserPlus","weekAgo","setDate","getDate","Calendar","map","Link","to","id","charAt","Mail","phone","Phone","Building","source","replace","format","onClick","preventDefault","stopPropagation","label","color","_ref2","count","percentage","style","width","Math","round"],"sourceRoot":""}