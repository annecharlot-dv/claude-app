"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[680],{6680:(e,s,t)=>{t.r(s),t.d(s,{default:()=>N});var r=t(5043),a=t(3248),i=t(7029),n=t(7097),l=t(6767),c=t(1360),d=t(9292),o=t(1680),m=t(4694),x=t(7033),u=t(764),f=t(6533),h=t(9855),g=t(4505),b=t(1535),j=t(579);const N=()=>{const e=(0,a.jE)(),[s,t]=(0,r.useState)(""),{data:N=[],isLoading:v}=(0,i.I)({queryKey:["forms"],queryFn:()=>g.A.get("/forms").then((e=>e.data))}),y=(0,n.n)({mutationFn:e=>g.A.delete("/forms/".concat(e)),onSuccess:()=>{e.invalidateQueries(["forms"])}}),p=N.filter((e=>e.name.toLowerCase().includes(s.toLowerCase())||e.title.toLowerCase().includes(s.toLowerCase())));return v?(0,j.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,j.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,j.jsxs)("div",{className:"space-y-6",children:[(0,j.jsxs)("div",{className:"sm:flex sm:items-center sm:justify-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Forms"}),(0,j.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Create and manage lead capture forms"})]}),(0,j.jsx)("div",{className:"mt-4 sm:mt-0",children:(0,j.jsxs)(l.N_,{to:"/forms/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,j.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"New Form"]})})]}),(0,j.jsx)("div",{className:"max-w-md",children:(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,j.jsx)(d.A,{className:"h-5 w-5 text-gray-400"})}),(0,j.jsx)("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search forms...",value:s,onChange:e=>t(e.target.value)})]})}),(0,j.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:p.map((e=>{var s;return(0,j.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,j.jsxs)("div",{className:"p-6",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"flex-shrink-0",children:(0,j.jsx)(o.A,{className:"h-8 w-8 text-blue-600"})}),(0,j.jsxs)("div",{className:"ml-3",children:[(0,j.jsx)("h3",{className:"text-lg font-medium text-gray-900 truncate",children:e.title}),(0,j.jsx)("p",{className:"text-sm text-gray-500",children:e.name})]})]}),(0,j.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Active":"Inactive"})]}),(0,j.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,j.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,j.jsx)("span",{className:"text-gray-500",children:"Fields:"}),(0,j.jsx)("span",{className:"font-medium",children:(null===(s=e.fields)||void 0===s?void 0:s.length)||0})]}),(0,j.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,j.jsx)("span",{className:"text-gray-500",children:"Created:"}),(0,j.jsx)("span",{className:"font-medium",children:(0,b.GP)(new Date(e.created_at),"MMM d, yyyy")})]}),(0,j.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,j.jsx)("span",{className:"text-gray-500",children:"Submissions:"}),(0,j.jsx)("span",{className:"font-medium",children:"0"})]})]}),e.description&&(0,j.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.description}),(0,j.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsx)("button",{onClick:()=>(e=>{const s='<iframe src="'.concat(window.location.origin,"/embed/form/").concat(e,'" width="100%" height="400" frameborder="0"></iframe>');navigator.clipboard.writeText(s)})(e.id),className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-sm leading-4 font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",title:"Copy embed code",children:(0,j.jsx)(m.A,{className:"h-4 w-4"})}),(0,j.jsx)(l.N_,{to:"/forms/".concat(e.id,"/analytics"),className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-sm leading-4 font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",title:"View analytics",children:(0,j.jsx)(x.A,{className:"h-4 w-4"})})]}),(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsx)(l.N_,{to:"/forms/".concat(e.id,"/preview"),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-sm leading-4 font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:(0,j.jsx)(u.A,{className:"h-4 w-4"})}),(0,j.jsx)(l.N_,{to:"/forms/".concat(e.id,"/edit"),className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-sm leading-4 font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:(0,j.jsx)(f.A,{className:"h-4 w-4"})}),(0,j.jsx)("button",{onClick:()=>(async(e,s)=>{window.confirm('Are you sure you want to delete "'.concat(s,'"?'))&&y.mutate(e)})(e.id,e.name),className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-sm leading-4 font-medium text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:(0,j.jsx)(h.A,{className:"h-4 w-4"})})]})]})]})},e.id)}))}),0===p.length&&(0,j.jsxs)("div",{className:"text-center py-12",children:[(0,j.jsx)(o.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,j.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No forms found"}),(0,j.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:s?"No forms match your search criteria.":"Get started by creating your first form."}),!s&&(0,j.jsx)("div",{className:"mt-6",children:(0,j.jsxs)(l.N_,{to:"/forms/new",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,j.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Create Form"]})})]}),(0,j.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,j.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Form Statistics"}),(0,j.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-4",children:[(0,j.jsxs)("div",{className:"text-center",children:[(0,j.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:N.length}),(0,j.jsx)("div",{className:"text-sm text-gray-500",children:"Total Forms"})]}),(0,j.jsxs)("div",{className:"text-center",children:[(0,j.jsx)("div",{className:"text-2xl font-bold text-green-600",children:N.filter((e=>e.is_active)).length}),(0,j.jsx)("div",{className:"text-sm text-gray-500",children:"Active Forms"})]}),(0,j.jsxs)("div",{className:"text-center",children:[(0,j.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"0"}),(0,j.jsx)("div",{className:"text-sm text-gray-500",children:"Total Submissions"})]}),(0,j.jsxs)("div",{className:"text-center",children:[(0,j.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:N.reduce(((e,s)=>{var t;return e+((null===(t=s.fields)||void 0===t?void 0:t.length)||0)}),0)}),(0,j.jsx)("div",{className:"text-sm text-gray-500",children:"Total Fields"})]})]})]})]})}}}]);
//# sourceMappingURL=680.2cb32491.chunk.js.map