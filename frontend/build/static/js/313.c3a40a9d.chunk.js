"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[313],{2313:(e,s,t)=>{t.r(s),t.d(s,{default:()=>w});var a=t(5043),l=t(3248),r=t(7029),i=t(7097),n=t(6767),d=t(1360),c=t(9292),o=t(5731),m=t(3658),x=t(5379),h=t(5258),u=t(6533),g=t(5087),y=t(9855),p=t(7558),j=t(4505),f=t(1535),N=t(579);const b=a.lazy((()=>Promise.all([t.e(96),t.e(22)]).then(t.bind(t,4022)))),w=()=>{const{translateTerm:e,getColorScheme:s,getModuleInfo:t}=(0,p.K)(),w=(0,l.jE)(),[v,C]=(0,a.useState)(""),[k,A]=(0,a.useState)(!1),[L,M]=(0,a.useState)(null),P=s(),S=t(),{data:_=[],isLoading:B}=(0,r.I)({queryKey:["cms-pages"],queryFn:()=>j.A.get("/cms/pages").then((e=>e.data))}),I=(0,i.n)({mutationFn:e=>j.A.delete("/cms/pages/".concat(e)),onSuccess:()=>{w.invalidateQueries(["cms-pages"])}}),q=_.filter((e=>e.title.toLowerCase().includes(v.toLowerCase())||e.slug.toLowerCase().includes(v.toLowerCase())));return B?(0,N.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,N.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:P.primary}})}):(0,N.jsxs)("div",{className:"space-y-6",children:[(0,N.jsxs)("div",{className:"sm:flex sm:items-center sm:justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h1",{className:"text-2xl font-bold",style:{color:P.text},children:e("Website Pages")}),(0,N.jsxs)("p",{className:"mt-1 text-sm text-gray-600",children:[e("Manage your website content and pages for")," ",S.name]})]}),(0,N.jsx)("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:(0,N.jsxs)(n.N_,{to:"/cms/pages/new",className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white rounded-md shadow-sm hover:opacity-90",style:{backgroundColor:P.primary},children:[(0,N.jsx)(d.A,{className:"h-4 w-4 mr-2"}),e("New Page")]})})]}),(0,N.jsx)("div",{className:"flex items-center space-x-4",children:(0,N.jsx)("div",{className:"flex-1 max-w-lg",children:(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,N.jsx)(c.A,{className:"h-5 w-5 text-gray-400"})}),(0,N.jsx)("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:border-blue-500",style:{focusRingColor:P.primary,focusBorderColor:P.primary},placeholder:e("Search pages..."),value:v,onChange:e=>C(e.target.value)})]})})}),(0,N.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:q.map((s=>(0,N.jsxs)("div",{className:"relative group bg-white rounded-lg border border-gray-300 shadow-sm hover:shadow-md transition-shadow",children:[(0,N.jsxs)("div",{className:"aspect-w-16 aspect-h-10 bg-gray-100 rounded-t-lg overflow-hidden",children:[(0,N.jsx)("div",{className:"w-full h-40 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:(0,N.jsx)(o.A,{className:"h-12 w-12 text-gray-400"})}),s.is_homepage&&(0,N.jsx)("div",{className:"absolute top-2 left-2",children:(0,N.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,N.jsx)(m.A,{className:"h-3 w-3 mr-1"}),e("Homepage")]})}),s.status&&(0,N.jsx)("div",{className:"absolute top-2 right-2",children:(0,N.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("published"===s.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e(s.status)})})]}),(0,N.jsxs)("div",{className:"p-4",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,N.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate",children:s.title}),(0,N.jsxs)("p",{className:"text-sm text-gray-500 truncate",children:["/",s.slug]}),s.updated_at&&(0,N.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:[e("Updated")," ",(0,f.GP)(new Date(s.updated_at),"MMM d, yyyy")]})]}),(0,N.jsx)("div",{className:"ml-2 flex-shrink-0",children:(0,N.jsx)("div",{className:"relative inline-block text-left",children:(0,N.jsx)("button",{className:"p-1 rounded-full hover:bg-gray-100",children:(0,N.jsx)(x.A,{className:"h-4 w-4 text-gray-400"})})})})]}),(0,N.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,N.jsxs)("div",{className:"flex items-center space-x-2",children:["coworking"===S.industry&&(0,N.jsxs)("button",{onClick:()=>(e=>{M(e),A(!0)})(s),className:"inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md text-white hover:opacity-90",style:{backgroundColor:P.primary},children:[(0,N.jsx)(h.A,{className:"h-3 w-3 mr-1"}),e("Page Builder")]}),(0,N.jsxs)(n.N_,{to:"/cms/pages/".concat(s.id,"/edit"),className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:[(0,N.jsx)(u.A,{className:"h-3 w-3 mr-1"}),e("Edit")]})]}),(0,N.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,N.jsx)("button",{className:"p-1.5 text-gray-400 hover:text-gray-600 rounded",children:(0,N.jsx)(g.A,{className:"h-4 w-4"})}),(0,N.jsx)("button",{onClick:()=>(async(e,s)=>{window.confirm('Are you sure you want to delete "'.concat(s,'"?'))&&I.mutate(e)})(s.id,s.title),className:"p-1.5 text-gray-400 hover:text-red-600 rounded",children:(0,N.jsx)(y.A,{className:"h-4 w-4"})})]})]})]})]},s.id)))}),0===q.length&&(0,N.jsxs)("div",{className:"text-center py-12",children:[(0,N.jsx)(o.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,N.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:e(v?"No pages found":"No pages yet")}),(0,N.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:e(v?"Try adjusting your search terms":"Get started by creating your first page")}),!v&&(0,N.jsx)("div",{className:"mt-6",children:(0,N.jsxs)(n.N_,{to:"/cms/pages/new",className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white rounded-md shadow-sm hover:opacity-90",style:{backgroundColor:P.primary},children:[(0,N.jsx)(d.A,{className:"h-4 w-4 mr-2"}),e("Create Page")]})})]}),k&&L&&(0,N.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50",children:(0,N.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-7xl w-full h-full mx-4 my-4 flex flex-col",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("h2",{className:"text-lg font-medium",style:{color:P.text},children:[e("Page Builder")," - ",L.title]}),(0,N.jsx)("p",{className:"text-sm text-gray-600",children:e("Drag and drop components to build your page")})]}),(0,N.jsxs)("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600",children:[(0,N.jsx)("span",{className:"sr-only",children:e("Close")}),(0,N.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,N.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),(0,N.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,N.jsx)(a.Suspense,{fallback:(0,N.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,N.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:P.primary}})}),children:(0,N.jsx)(b,{pageId:L.id})})})]})})]})}}}]);
//# sourceMappingURL=313.c3a40a9d.chunk.js.map